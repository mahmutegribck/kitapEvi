--
-- PostgreSQL database dump
--

-- Dumped from database version 14.1
-- Dumped by pg_dump version 14.1

-- Started on 2021-12-20 08:09:25

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 245 (class 1255 OID 16816)
-- Name: indirimli_fiyat(double precision); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.indirimli_fiyat(siparis_ucreti double precision) RETURNS double precision
    LANGUAGE plpgsql
    AS $$
begin 
siparis_ucreti:= siparis_ucreti-(siparis_ucreti*0.15);
return siparis_ucreti;
end;
$$;


ALTER FUNCTION public.indirimli_fiyat(siparis_ucreti double precision) OWNER TO postgres;

--
-- TOC entry 227 (class 1255 OID 16817)
-- Name: kdvli_ucret(double precision); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.kdvli_ucret(siparis_ucreti double precision) RETURNS double precision
    LANGUAGE plpgsql
    AS $$
begin 
siparis_ucreti:= siparis_ucreti+(siparis_ucreti*0.15);
return siparis_ucreti;
end;
$$;


ALTER FUNCTION public.kdvli_ucret(siparis_ucreti double precision) OWNER TO postgres;

--
-- TOC entry 228 (class 1255 OID 16742)
-- Name: kitap_bul(character varying); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.kitap_bul(prmt character varying) RETURNS TABLE(siparis_no_sutun integer, kitap_adi_sutun character varying)
    LANGUAGE plpgsql
    AS $$
BEGIN
	return query
	SELECT
	siparis_no
	kitap_adi
 FROM 
	kitap_genel
 WHERE 
 	kitap_adi LIKE prmt;
END;
$$;


ALTER FUNCTION public.kitap_bul(prmt character varying) OWNER TO postgres;

--
-- TOC entry 229 (class 1255 OID 16748)
-- Name: musteri_bul(character varying); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.musteri_bul(prmt character varying) RETURNS TABLE(bulunanmusteriad character varying, bulunanmusterisoyad character varying)
    LANGUAGE plpgsql
    AS $$
BEGIN
	return query
	SELECT
	musteri_adi,
	musteri_soyadi
 FROM 
	kitap_genel
 WHERE 
 	musteri_adi LIKE prmt;
END;
$$;


ALTER FUNCTION public.musteri_bul(prmt character varying) OWNER TO postgres;

--
-- TOC entry 244 (class 1255 OID 16810)
-- Name: silinen_kayit_tut(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.silinen_kayit_tut() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
insert into silinen_kayitlar (siparis_no,kitap_adi,kitap_turu,yazar_adi,yazar_soyadi,satis_personeli_adi,siparis_tarihi, siparis_ucreti,odeme_turu,musteri_adi,musteri_soyadi,odeme_yontemi,meslek_adi,il_adi,yayinevi_adi)
values (OLD.siparis_no,OLD.kitap_adi,OLD.kitap_turu,OLD.yazar_adi,OLD.yazar_soyadi,OLD.satis_personeli_adi,
OLD.siparis_tarihi,OLD.siparis_ucreti,OLD.odeme_turu,OLD.musteri_adi,OLD.musteri_soyadi,
OLD.odeme_yontemi,OLD.meslek_adi,OLD.il_adi,OLD.yayinevi_adi);
RETURN OLD;
END;
$$;


ALTER FUNCTION public.silinen_kayit_tut() OWNER TO postgres;

--
-- TOC entry 243 (class 1255 OID 16793)
-- Name: siparis_guncelleme_sayac(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.siparis_guncelleme_sayac() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
	begin 
	update guncelleme_sayisi set sayi = sayi+1;
	return new;
	end;
	$$;


ALTER FUNCTION public.siparis_guncelleme_sayac() OWNER TO postgres;

--
-- TOC entry 230 (class 1255 OID 16755)
-- Name: siparis_sayac(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.siparis_sayac() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
begin
update siparis_sayisi set sayi=sayi+1;
return new;
end;
$$;


ALTER FUNCTION public.siparis_sayac() OWNER TO postgres;

--
-- TOC entry 231 (class 1255 OID 16758)
-- Name: siparis_sayac_cikarma(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.siparis_sayac_cikarma() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
 begin
 update siparis_sayisi set sayi=sayi-1;
 return new;
 end;
 $$;


ALTER FUNCTION public.siparis_sayac_cikarma() OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 216 (class 1259 OID 16484)
-- Name: adres; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.adres (
    adres_no integer NOT NULL,
    il_adi character varying NOT NULL
);


ALTER TABLE public.adres OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 16789)
-- Name: guncelleme_sayisi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.guncelleme_sayisi (
    sayi integer NOT NULL
);


ALTER TABLE public.guncelleme_sayisi OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 16503)
-- Name: kitap; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.kitap (
    kitap_adi character varying NOT NULL,
    kitap_turu character varying NOT NULL,
    yayinevi_no integer NOT NULL,
    siparis_no integer NOT NULL,
    satis_personel_no integer DEFAULT 1 NOT NULL,
    yazar_adi character varying,
    yazar_soyadi character varying
);


ALTER TABLE public.kitap OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 16726)
-- Name: kitap_siparis; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.kitap_siparis (
    siparis_no integer NOT NULL,
    kitap_adi character varying NOT NULL,
    kitap_turu character varying NOT NULL,
    yazar_adi character varying NOT NULL,
    yazar_soyadi character varying NOT NULL,
    satis_personeli_adi character varying NOT NULL,
    siparis_tarihi character varying NOT NULL,
    siparis_ucreti integer NOT NULL,
    odeme_turu character varying NOT NULL,
    musteri_adi character varying NOT NULL,
    musteri_soyadi character varying NOT NULL,
    odeme_yontemi character varying NOT NULL,
    meslek_adi character varying NOT NULL,
    il_adi character varying NOT NULL,
    yayinevi_adi character varying NOT NULL
);


ALTER TABLE public.kitap_siparis OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 16468)
-- Name: meslek; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.meslek (
    meslek_no integer NOT NULL,
    meslek_adi character varying NOT NULL
);


ALTER TABLE public.meslek OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16475)
-- Name: musteri; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.musteri (
    musteri_no integer NOT NULL,
    meslek_no integer NOT NULL,
    odeme_yontemi_no integer NOT NULL,
    musteri_adi character varying NOT NULL,
    musteri_soyadi character varying NOT NULL
);


ALTER TABLE public.musteri OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16461)
-- Name: odeme_yontemi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.odeme_yontemi (
    odeme_yontemi_no integer NOT NULL,
    odeme_yontemi character varying NOT NULL
);


ALTER TABLE public.odeme_yontemi OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16665)
-- Name: musteri_v; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.musteri_v AS
 SELECT musteri.musteri_no,
    musteri.musteri_adi,
    musteri.musteri_soyadi,
    meslek.meslek_adi,
    odeme_yontemi.odeme_yontemi
   FROM ((public.musteri
     JOIN public.meslek ON ((musteri.meslek_no = meslek.meslek_no)))
     JOIN public.odeme_yontemi ON ((musteri.odeme_yontemi_no = odeme_yontemi.odeme_yontemi_no)));


ALTER TABLE public.musteri_v OWNER TO postgres;

--
-- TOC entry 212 (class 1259 OID 16447)
-- Name: odeme_turu; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.odeme_turu (
    odeme_turu_no integer NOT NULL,
    odeme_turu character varying NOT NULL
);


ALTER TABLE public.odeme_turu OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 16437)
-- Name: satis_personeli; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.satis_personeli (
    satis_personeli_no integer NOT NULL,
    satis_personeli_adi character varying NOT NULL
);


ALTER TABLE public.satis_personeli OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 16442)
-- Name: siparis; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.siparis (
    siparis_no integer NOT NULL,
    odeme_turu_no integer NOT NULL,
    musteri_no integer NOT NULL,
    adres_no integer,
    siparis_ucreti integer NOT NULL,
    siparis_tarihi character varying DEFAULT 1 NOT NULL
);


ALTER TABLE public.siparis OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16669)
-- Name: siparis_v; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.siparis_v AS
 SELECT siparis.siparis_no,
    siparis.siparis_tarihi,
    siparis.siparis_ucreti,
    odeme_turu.odeme_turu,
    adres.il_adi,
    musteri_v.musteri_adi,
    musteri_v.musteri_soyadi,
    musteri_v.meslek_adi,
    musteri_v.odeme_yontemi
   FROM (((public.siparis
     JOIN public.musteri_v ON ((siparis.musteri_no = musteri_v.musteri_no)))
     JOIN public.odeme_turu ON ((siparis.odeme_turu_no = odeme_turu.odeme_turu_no)))
     JOIN public.adres ON ((siparis.adres_no = adres.adres_no)));


ALTER TABLE public.siparis_v OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 16430)
-- Name: yayinevi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.yayinevi (
    yayinevi_no integer NOT NULL,
    yayinevi_adi character varying NOT NULL
);


ALTER TABLE public.yayinevi OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 16721)
-- Name: kitap_v; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.kitap_v AS
 SELECT kitap.kitap_adi,
    kitap.kitap_turu,
    kitap.yazar_adi,
    kitap.yazar_soyadi,
    yayinevi.yayinevi_adi,
    siparis_v.siparis_tarihi,
    siparis_v.siparis_ucreti,
    siparis_v.odeme_turu,
    siparis_v.il_adi,
    siparis_v.musteri_adi,
    siparis_v.musteri_soyadi,
    siparis_v.meslek_adi,
    siparis_v.odeme_yontemi,
    satis_personeli.satis_personeli_adi
   FROM (((public.kitap
     JOIN public.siparis_v ON ((kitap.siparis_no = siparis_v.siparis_no)))
     JOIN public.satis_personeli ON ((kitap.satis_personel_no = satis_personeli.satis_personeli_no)))
     JOIN public.yayinevi ON ((kitap.yayinevi_no = yayinevi.yayinevi_no)));


ALTER TABLE public.kitap_v OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16679)
-- Name: musteri_genel; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.musteri_genel (
    musteri_no integer,
    musteri_adi character varying,
    musteri_soyadi character varying,
    odeme_yontemi character varying,
    meslek_adi character varying
);


ALTER TABLE public.musteri_genel OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 16818)
-- Name: silinen_kayitlar; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.silinen_kayitlar (
    siparis_no integer,
    kitap_adi character varying,
    kitap_turu character varying,
    yazar_adi character varying,
    yazar_soyadi character varying,
    satis_personeli_adi character varying,
    siparis_tarihi character varying,
    siparis_ucreti integer,
    odeme_turu character varying,
    musteri_adi character varying,
    musteri_soyadi character varying,
    odeme_yontemi character varying,
    meslek_adi character varying,
    il_adi character varying,
    yayinevi_adi character varying
);


ALTER TABLE public.silinen_kayitlar OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16684)
-- Name: siparis_genel; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.siparis_genel (
    siparis_no integer,
    siparis_tarihi character varying,
    siparis_ucreti integer,
    odeme_turu character varying,
    musteri_adi character varying,
    musteri_soyadi character varying,
    odeme_yontemi character varying,
    meslek_adi character varying,
    il_adi character varying
);


ALTER TABLE public.siparis_genel OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 16751)
-- Name: siparis_sayisi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.siparis_sayisi (
    sayi integer NOT NULL
);


ALTER TABLE public.siparis_sayisi OWNER TO postgres;

--
-- TOC entry 3435 (class 0 OID 16484)
-- Dependencies: 216
-- Data for Name: adres; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.adres (adres_no, il_adi) VALUES (1, 'Adana');
INSERT INTO public.adres (adres_no, il_adi) VALUES (2, 'Adiyaman');
INSERT INTO public.adres (adres_no, il_adi) VALUES (3, 'Afyon
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (4, 'Agri');
INSERT INTO public.adres (adres_no, il_adi) VALUES (5, 'Amasya');
INSERT INTO public.adres (adres_no, il_adi) VALUES (6, 'Ankara');
INSERT INTO public.adres (adres_no, il_adi) VALUES (7, 'Antalya');
INSERT INTO public.adres (adres_no, il_adi) VALUES (8, 'Artvin');
INSERT INTO public.adres (adres_no, il_adi) VALUES (9, 'Aydin');
INSERT INTO public.adres (adres_no, il_adi) VALUES (10, 'Balikesir');
INSERT INTO public.adres (adres_no, il_adi) VALUES (11, 'Bilecik');
INSERT INTO public.adres (adres_no, il_adi) VALUES (12, 'Bingol');
INSERT INTO public.adres (adres_no, il_adi) VALUES (13, 'Bitlis');
INSERT INTO public.adres (adres_no, il_adi) VALUES (14, 'Bolu');
INSERT INTO public.adres (adres_no, il_adi) VALUES (15, 'Burdur');
INSERT INTO public.adres (adres_no, il_adi) VALUES (16, 'Bursa');
INSERT INTO public.adres (adres_no, il_adi) VALUES (17, 'Canakkale');
INSERT INTO public.adres (adres_no, il_adi) VALUES (18, 'Cankiri');
INSERT INTO public.adres (adres_no, il_adi) VALUES (19, 'Corum');
INSERT INTO public.adres (adres_no, il_adi) VALUES (20, 'Denizli');
INSERT INTO public.adres (adres_no, il_adi) VALUES (21, 'Diyarbakir');
INSERT INTO public.adres (adres_no, il_adi) VALUES (22, 'Edirne');
INSERT INTO public.adres (adres_no, il_adi) VALUES (23, 'Elazig');
INSERT INTO public.adres (adres_no, il_adi) VALUES (24, 'Erzincan');
INSERT INTO public.adres (adres_no, il_adi) VALUES (25, 'Erzurum');
INSERT INTO public.adres (adres_no, il_adi) VALUES (26, 'Eskisehir');
INSERT INTO public.adres (adres_no, il_adi) VALUES (27, 'Gaziantep');
INSERT INTO public.adres (adres_no, il_adi) VALUES (28, 'Giresun');
INSERT INTO public.adres (adres_no, il_adi) VALUES (29, 'Gumushane');
INSERT INTO public.adres (adres_no, il_adi) VALUES (30, 'Hakkari');
INSERT INTO public.adres (adres_no, il_adi) VALUES (31, 'Hatay');
INSERT INTO public.adres (adres_no, il_adi) VALUES (32, 'Isparta');
INSERT INTO public.adres (adres_no, il_adi) VALUES (33, 'Mersin');
INSERT INTO public.adres (adres_no, il_adi) VALUES (34, 'Istanbul');
INSERT INTO public.adres (adres_no, il_adi) VALUES (35, 'Izmir');
INSERT INTO public.adres (adres_no, il_adi) VALUES (36, 'Kars');
INSERT INTO public.adres (adres_no, il_adi) VALUES (37, 'Kastamonu');
INSERT INTO public.adres (adres_no, il_adi) VALUES (38, 'Kayseri
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (39, 'Kirklareli');
INSERT INTO public.adres (adres_no, il_adi) VALUES (40, 'Kirsehir');
INSERT INTO public.adres (adres_no, il_adi) VALUES (41, 'Kocaeli');
INSERT INTO public.adres (adres_no, il_adi) VALUES (42, 'Konya');
INSERT INTO public.adres (adres_no, il_adi) VALUES (43, 'Kutahya');
INSERT INTO public.adres (adres_no, il_adi) VALUES (44, 'Malatya');
INSERT INTO public.adres (adres_no, il_adi) VALUES (45, 'Manisa');
INSERT INTO public.adres (adres_no, il_adi) VALUES (46, 'Kahramanmaras');
INSERT INTO public.adres (adres_no, il_adi) VALUES (47, 'Mardin
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (48, 'Mugla');
INSERT INTO public.adres (adres_no, il_adi) VALUES (49, 'Mus
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (50, 'Nevsehir');
INSERT INTO public.adres (adres_no, il_adi) VALUES (51, 'Nigde');
INSERT INTO public.adres (adres_no, il_adi) VALUES (52, 'Ordu');
INSERT INTO public.adres (adres_no, il_adi) VALUES (53, 'Rize');
INSERT INTO public.adres (adres_no, il_adi) VALUES (54, 'Sakarya');
INSERT INTO public.adres (adres_no, il_adi) VALUES (55, 'Samsun
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (56, 'Siirt');
INSERT INTO public.adres (adres_no, il_adi) VALUES (57, 'Sinop');
INSERT INTO public.adres (adres_no, il_adi) VALUES (58, 'Sivas');
INSERT INTO public.adres (adres_no, il_adi) VALUES (59, 'Tekirdag');
INSERT INTO public.adres (adres_no, il_adi) VALUES (60, 'Tokat');
INSERT INTO public.adres (adres_no, il_adi) VALUES (61, 'Trabzon');
INSERT INTO public.adres (adres_no, il_adi) VALUES (62, 'Tunceli');
INSERT INTO public.adres (adres_no, il_adi) VALUES (63, 'Sanliurfa');
INSERT INTO public.adres (adres_no, il_adi) VALUES (64, 'Usak');
INSERT INTO public.adres (adres_no, il_adi) VALUES (65, 'Van');
INSERT INTO public.adres (adres_no, il_adi) VALUES (66, 'Yozgat');
INSERT INTO public.adres (adres_no, il_adi) VALUES (67, 'Zonguldak');
INSERT INTO public.adres (adres_no, il_adi) VALUES (68, 'Aksaray');
INSERT INTO public.adres (adres_no, il_adi) VALUES (69, 'Bayburt
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (70, 'Karaman');
INSERT INTO public.adres (adres_no, il_adi) VALUES (71, 'Kırıkkale
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (72, 'Batman');
INSERT INTO public.adres (adres_no, il_adi) VALUES (73, 'Sırnak');
INSERT INTO public.adres (adres_no, il_adi) VALUES (74, 'Bartin
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (75, 'Ardahan');
INSERT INTO public.adres (adres_no, il_adi) VALUES (76, 'Igdir');
INSERT INTO public.adres (adres_no, il_adi) VALUES (77, 'Yalova
');
INSERT INTO public.adres (adres_no, il_adi) VALUES (78, 'Karabuk');
INSERT INTO public.adres (adres_no, il_adi) VALUES (79, 'Kilis');
INSERT INTO public.adres (adres_no, il_adi) VALUES (80, 'Osmaniye');
INSERT INTO public.adres (adres_no, il_adi) VALUES (81, 'Duzce');


--
-- TOC entry 3441 (class 0 OID 16789)
-- Dependencies: 225
-- Data for Name: guncelleme_sayisi; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.guncelleme_sayisi (sayi) VALUES (4);


--
-- TOC entry 3436 (class 0 OID 16503)
-- Dependencies: 217
-- Data for Name: kitap; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.kitap (kitap_adi, kitap_turu, yayinevi_no, siparis_no, satis_personel_no, yazar_adi, yazar_soyadi) VALUES ('Cocuk Hayali', 'Masal', 2, 4, 2, 'Mustafa
', 'Mert');
INSERT INTO public.kitap (kitap_adi, kitap_turu, yayinevi_no, siparis_no, satis_personel_no, yazar_adi, yazar_soyadi) VALUES ('Denge', 'Roman', 1, 1, 5, 'Kemal', 'Arar');
INSERT INTO public.kitap (kitap_adi, kitap_turu, yayinevi_no, siparis_no, satis_personel_no, yazar_adi, yazar_soyadi) VALUES ('Hayat Gezisi', 'Hikaye', 4, 2, 3, 'Kerim', 'Yilmaz');
INSERT INTO public.kitap (kitap_adi, kitap_turu, yayinevi_no, siparis_no, satis_personel_no, yazar_adi, yazar_soyadi) VALUES ('Yildizlar', 'Cizgi Roman', 5, 3, 1, 'Sevgi', 'Demir');


--
-- TOC entry 3439 (class 0 OID 16726)
-- Dependencies: 223
-- Data for Name: kitap_siparis; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.kitap_siparis (siparis_no, kitap_adi, kitap_turu, yazar_adi, yazar_soyadi, satis_personeli_adi, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi, yayinevi_adi) VALUES (2, 'Cocuk Hayali', 'Masal', 'Mustafa', 'Mert', 'Sevde', '11/12/2021', 124, 'Pesin', 'Ceyda', 'Yilmaz', 'Nakit', 'Ogretmen', 'Cankiri', 'Bilgi Yayinevi');
INSERT INTO public.kitap_siparis (siparis_no, kitap_adi, kitap_turu, yazar_adi, yazar_soyadi, satis_personeli_adi, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi, yayinevi_adi) VALUES (1, 'Hayat Gezi', 'Hikaye', 'Kerim', 'Yilmaz', 'Ceyda', '15/08/2021', 75, 'Taksit', 'Murat', 'Kara', 'Nakit', 'Asker', 'Burdur', 'Libra Yayinevi');
INSERT INTO public.kitap_siparis (siparis_no, kitap_adi, kitap_turu, yazar_adi, yazar_soyadi, satis_personeli_adi, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi, yayinevi_adi) VALUES (3, 'Destan', 'Roman', 'Kemal', 'Seven', 'Ceyda', '12/12/2021', 45, 'Pesin', 'Taner', 'Kara', 'Nakit', 'Ogretmen', 'Eskisehir', 'Bilgi Yayinevi');


--
-- TOC entry 3433 (class 0 OID 16468)
-- Dependencies: 214
-- Data for Name: meslek; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (1, 'Muhendis');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (2, 'Ogretmen');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (3, 'Polis');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (4, 'Avukat');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (5, 'Asker');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (6, 'Ogrenci');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (7, 'Ascı');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (8, 'Ciftci');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (9, 'Isci');
INSERT INTO public.meslek (meslek_no, meslek_adi) VALUES (10, 'Doktor');


--
-- TOC entry 3434 (class 0 OID 16475)
-- Dependencies: 215
-- Data for Name: musteri; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.musteri (musteri_no, meslek_no, odeme_yontemi_no, musteri_adi, musteri_soyadi) VALUES (1, 1, 1, 'Seyma
', 'Savas');
INSERT INTO public.musteri (musteri_no, meslek_no, odeme_yontemi_no, musteri_adi, musteri_soyadi) VALUES (4, 2, 2, 'Ceyda', 'Yilmaz');
INSERT INTO public.musteri (musteri_no, meslek_no, odeme_yontemi_no, musteri_adi, musteri_soyadi) VALUES (2, 5, 1, 'Murat', 'Kara');
INSERT INTO public.musteri (musteri_no, meslek_no, odeme_yontemi_no, musteri_adi, musteri_soyadi) VALUES (3, 6, 2, 'Can', 'Demir');


--
-- TOC entry 3437 (class 0 OID 16679)
-- Dependencies: 220
-- Data for Name: musteri_genel; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.musteri_genel (musteri_no, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi) VALUES (1, 'Seyma
', 'Savas', 'Kart', 'Muhendis');
INSERT INTO public.musteri_genel (musteri_no, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi) VALUES (4, 'Ceyda', 'Yilmaz', 'Nakit', 'Ogretmen');
INSERT INTO public.musteri_genel (musteri_no, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi) VALUES (2, 'Murat', 'Kara', 'Kart', 'Asker');
INSERT INTO public.musteri_genel (musteri_no, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi) VALUES (3, 'Can', 'Demir', 'Nakit', 'Ogrenci');


--
-- TOC entry 3431 (class 0 OID 16447)
-- Dependencies: 212
-- Data for Name: odeme_turu; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.odeme_turu (odeme_turu_no, odeme_turu) VALUES (1, 'Pesin');
INSERT INTO public.odeme_turu (odeme_turu_no, odeme_turu) VALUES (2, 'Taksit');


--
-- TOC entry 3432 (class 0 OID 16461)
-- Dependencies: 213
-- Data for Name: odeme_yontemi; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.odeme_yontemi (odeme_yontemi_no, odeme_yontemi) VALUES (1, 'Kart');
INSERT INTO public.odeme_yontemi (odeme_yontemi_no, odeme_yontemi) VALUES (2, 'Nakit');


--
-- TOC entry 3429 (class 0 OID 16437)
-- Dependencies: 210
-- Data for Name: satis_personeli; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.satis_personeli (satis_personeli_no, satis_personeli_adi) VALUES (1, 'Murat');
INSERT INTO public.satis_personeli (satis_personeli_no, satis_personeli_adi) VALUES (2, 'Sevde');
INSERT INTO public.satis_personeli (satis_personeli_no, satis_personeli_adi) VALUES (3, 'Ceyda');
INSERT INTO public.satis_personeli (satis_personeli_no, satis_personeli_adi) VALUES (4, 'Kemal');
INSERT INTO public.satis_personeli (satis_personeli_no, satis_personeli_adi) VALUES (5, 'Mert');


--
-- TOC entry 3442 (class 0 OID 16818)
-- Dependencies: 226
-- Data for Name: silinen_kayitlar; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.silinen_kayitlar (siparis_no, kitap_adi, kitap_turu, yazar_adi, yazar_soyadi, satis_personeli_adi, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi, yayinevi_adi) VALUES (3, 'Devran', 'Cizgi Roman', 'Nebati', 'Yildirim', 'Ceyda', '15/12/2021', 45, 'Pesin', 'Hüseyin', 'Kaya', 'Nakit', 'Polis', 'Edirne', 'Bilgi Yayinevi');
INSERT INTO public.silinen_kayitlar (siparis_no, kitap_adi, kitap_turu, yazar_adi, yazar_soyadi, satis_personeli_adi, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi, yayinevi_adi) VALUES (3, 'Destan', 'Cizgi Roman', 'Kemal', 'Seven', 'Ceyda', '12/12/2021', 45, 'Pesin', 'Taner', 'Kara', 'Nakit', 'Ogretmen', 'Eskisehir', 'Bilgi Yayinevi');


--
-- TOC entry 3430 (class 0 OID 16442)
-- Dependencies: 211
-- Data for Name: siparis; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.siparis (siparis_no, odeme_turu_no, musteri_no, adres_no, siparis_ucreti, siparis_tarihi) VALUES (1, 2, 1, 30, 148, '20/11/2021');
INSERT INTO public.siparis (siparis_no, odeme_turu_no, musteri_no, adres_no, siparis_ucreti, siparis_tarihi) VALUES (2, 2, 2, 15, 75, '15/08/2021
');
INSERT INTO public.siparis (siparis_no, odeme_turu_no, musteri_no, adres_no, siparis_ucreti, siparis_tarihi) VALUES (3, 1, 3, 46, 27, '17/10/2021');
INSERT INTO public.siparis (siparis_no, odeme_turu_no, musteri_no, adres_no, siparis_ucreti, siparis_tarihi) VALUES (4, 1, 4, 18, 124, '11/12/2021');


--
-- TOC entry 3438 (class 0 OID 16684)
-- Dependencies: 221
-- Data for Name: siparis_genel; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.siparis_genel (siparis_no, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi) VALUES (1, '20/11/2021', 148, 'Taksit', 'Seyma
', 'Savas', 'Kart', 'Muhendis', 'Hakkari');
INSERT INTO public.siparis_genel (siparis_no, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi) VALUES (4, '11/12/2021', 124, 'Pesin', 'Ceyda', 'Yilmaz', 'Nakit', 'Ogretmen', 'Cankiri');
INSERT INTO public.siparis_genel (siparis_no, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi) VALUES (2, '15/08/2021
', 75, 'Taksit', 'Murat', 'Kara', 'Kart', 'Asker', 'Burdur');
INSERT INTO public.siparis_genel (siparis_no, siparis_tarihi, siparis_ucreti, odeme_turu, musteri_adi, musteri_soyadi, odeme_yontemi, meslek_adi, il_adi) VALUES (3, '17/10/2021', 27, 'Pesin', 'Can', 'Demir', 'Nakit', 'Ogrenci', 'Kahramanmaras');


--
-- TOC entry 3440 (class 0 OID 16751)
-- Dependencies: 224
-- Data for Name: siparis_sayisi; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.siparis_sayisi (sayi) VALUES (3);


--
-- TOC entry 3428 (class 0 OID 16430)
-- Dependencies: 209
-- Data for Name: yayinevi; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.yayinevi (yayinevi_no, yayinevi_adi) VALUES (1, 'Beta Yayinevi
');
INSERT INTO public.yayinevi (yayinevi_no, yayinevi_adi) VALUES (2, 'Bilgi Yayinevi');
INSERT INTO public.yayinevi (yayinevi_no, yayinevi_adi) VALUES (3, 'Can Yayinevi');
INSERT INTO public.yayinevi (yayinevi_no, yayinevi_adi) VALUES (4, 'Libra Yayinevi');
INSERT INTO public.yayinevi (yayinevi_no, yayinevi_adi) VALUES (5, 'Nesil Yayinevi');


--
-- TOC entry 3262 (class 2606 OID 16490)
-- Name: adres Adres_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.adres
    ADD CONSTRAINT "Adres_pkey" PRIMARY KEY (adres_no);


--
-- TOC entry 3264 (class 2606 OID 16509)
-- Name: kitap Kitap_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kitap
    ADD CONSTRAINT "Kitap_pkey" PRIMARY KEY (kitap_adi);


--
-- TOC entry 3255 (class 2606 OID 16474)
-- Name: meslek Meslek_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meslek
    ADD CONSTRAINT "Meslek_pkey" PRIMARY KEY (meslek_no);


--
-- TOC entry 3257 (class 2606 OID 16481)
-- Name: musteri Musteri_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.musteri
    ADD CONSTRAINT "Musteri_pkey" PRIMARY KEY (musteri_no);


--
-- TOC entry 3251 (class 2606 OID 16453)
-- Name: odeme_turu OdemeTuru_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.odeme_turu
    ADD CONSTRAINT "OdemeTuru_pkey" PRIMARY KEY (odeme_turu_no);


--
-- TOC entry 3253 (class 2606 OID 16467)
-- Name: odeme_yontemi OdemeYontemi_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.odeme_yontemi
    ADD CONSTRAINT "OdemeYontemi_pkey" PRIMARY KEY (odeme_yontemi_no);


--
-- TOC entry 3244 (class 2606 OID 16441)
-- Name: satis_personeli SatisPersoneli_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.satis_personeli
    ADD CONSTRAINT "SatisPersoneli_pkey" PRIMARY KEY (satis_personeli_no);


--
-- TOC entry 3246 (class 2606 OID 16446)
-- Name: siparis Siparis_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.siparis
    ADD CONSTRAINT "Siparis_pkey" PRIMARY KEY (siparis_no);


--
-- TOC entry 3242 (class 2606 OID 16436)
-- Name: yayinevi Yayinevi_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.yayinevi
    ADD CONSTRAINT "Yayinevi_pkey" PRIMARY KEY (yayinevi_no);


--
-- TOC entry 3273 (class 2606 OID 16798)
-- Name: guncelleme_sayisi guncelleme_sayisi_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.guncelleme_sayisi
    ADD CONSTRAINT guncelleme_sayisi_pkey PRIMARY KEY (sayi);


--
-- TOC entry 3269 (class 2606 OID 16796)
-- Name: kitap_siparis kitap_genel_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kitap_siparis
    ADD CONSTRAINT kitap_genel_pkey PRIMARY KEY (siparis_no);


--
-- TOC entry 3271 (class 2606 OID 16800)
-- Name: siparis_sayisi siparis_sayisi_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.siparis_sayisi
    ADD CONSTRAINT siparis_sayisi_pkey PRIMARY KEY (sayi);


--
-- TOC entry 3247 (class 1259 OID 16538)
-- Name: fki_adresNo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "fki_adresNo" ON public.siparis USING btree (adres_no);


--
-- TOC entry 3258 (class 1259 OID 16526)
-- Name: fki_meslekNo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "fki_meslekNo" ON public.musteri USING btree (meslek_no);


--
-- TOC entry 3248 (class 1259 OID 16544)
-- Name: fki_musteriNo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "fki_musteriNo" ON public.siparis USING btree (musteri_no);


--
-- TOC entry 3249 (class 1259 OID 16532)
-- Name: fki_odemeTuruNo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "fki_odemeTuruNo" ON public.siparis USING btree (odeme_turu_no);


--
-- TOC entry 3259 (class 1259 OID 16515)
-- Name: fki_odemeYontemiNo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "fki_odemeYontemiNo" ON public.musteri USING btree (meslek_no);


--
-- TOC entry 3260 (class 1259 OID 16612)
-- Name: fki_odeme_yontemi_no; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX fki_odeme_yontemi_no ON public.musteri USING btree (odeme_yontemi_no);


--
-- TOC entry 3265 (class 1259 OID 16582)
-- Name: fki_satis_personel_no; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX fki_satis_personel_no ON public.kitap USING btree (satis_personel_no);


--
-- TOC entry 3266 (class 1259 OID 16562)
-- Name: fki_siparisNo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "fki_siparisNo" ON public.kitap USING btree (siparis_no);


--
-- TOC entry 3267 (class 1259 OID 16556)
-- Name: fki_yayineviNo; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "fki_yayineviNo" ON public.kitap USING btree (yayinevi_no);


--
-- TOC entry 3282 (class 2620 OID 16811)
-- Name: kitap_siparis silinen_kayit_tut_trigger; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER silinen_kayit_tut_trigger BEFORE DELETE ON public.kitap_siparis FOR EACH ROW EXECUTE FUNCTION public.silinen_kayit_tut();


--
-- TOC entry 3283 (class 2620 OID 16794)
-- Name: kitap_siparis siparis_guncelleme_sayac_trigger; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER siparis_guncelleme_sayac_trigger AFTER UPDATE ON public.kitap_siparis FOR EACH ROW EXECUTE FUNCTION public.siparis_guncelleme_sayac();


--
-- TOC entry 3284 (class 2620 OID 16759)
-- Name: kitap_siparis siparis_sayac_cikarma_trigger; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER siparis_sayac_cikarma_trigger AFTER DELETE ON public.kitap_siparis FOR EACH ROW EXECUTE FUNCTION public.siparis_sayac_cikarma();


--
-- TOC entry 3285 (class 2620 OID 16756)
-- Name: kitap_siparis siparis_sayac_trigger; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER siparis_sayac_trigger AFTER INSERT ON public.kitap_siparis FOR EACH ROW EXECUTE FUNCTION public.siparis_sayac();


--
-- TOC entry 3275 (class 2606 OID 16533)
-- Name: siparis adresNo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.siparis
    ADD CONSTRAINT "adresNo" FOREIGN KEY (adres_no) REFERENCES public.adres(adres_no) NOT VALID;


--
-- TOC entry 3277 (class 2606 OID 16521)
-- Name: musteri meslek_no; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.musteri
    ADD CONSTRAINT meslek_no FOREIGN KEY (meslek_no) REFERENCES public.meslek(meslek_no) NOT VALID;


--
-- TOC entry 3276 (class 2606 OID 16539)
-- Name: siparis musteriNo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.siparis
    ADD CONSTRAINT "musteriNo" FOREIGN KEY (musteri_no) REFERENCES public.musteri(musteri_no) NOT VALID;


--
-- TOC entry 3274 (class 2606 OID 16527)
-- Name: siparis odemeTuruNo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.siparis
    ADD CONSTRAINT "odemeTuruNo" FOREIGN KEY (odeme_turu_no) REFERENCES public.odeme_turu(odeme_turu_no) NOT VALID;


--
-- TOC entry 3278 (class 2606 OID 16607)
-- Name: musteri odeme_yontemi_no; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.musteri
    ADD CONSTRAINT odeme_yontemi_no FOREIGN KEY (odeme_yontemi_no) REFERENCES public.odeme_yontemi(odeme_yontemi_no) NOT VALID;


--
-- TOC entry 3281 (class 2606 OID 16577)
-- Name: kitap satis_personel_no; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kitap
    ADD CONSTRAINT satis_personel_no FOREIGN KEY (satis_personel_no) REFERENCES public.satis_personeli(satis_personeli_no) NOT VALID;


--
-- TOC entry 3280 (class 2606 OID 16557)
-- Name: kitap siparisNo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kitap
    ADD CONSTRAINT "siparisNo" FOREIGN KEY (siparis_no) REFERENCES public.siparis(siparis_no) NOT VALID;


--
-- TOC entry 3279 (class 2606 OID 16551)
-- Name: kitap yayineviNo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.kitap
    ADD CONSTRAINT "yayineviNo" FOREIGN KEY (yayinevi_no) REFERENCES public.yayinevi(yayinevi_no) NOT VALID;


-- Completed on 2021-12-20 08:09:28

--
-- PostgreSQL database dump complete
--

